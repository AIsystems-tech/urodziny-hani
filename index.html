<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Zaproszenie na Urodziny Hani</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;700&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Nunito', sans-serif;
      background: linear-gradient(145deg, #ffe4f0, #e0f7ff);
      margin: 0;
      padding: 0;
      color: #333;
    }
    .invitation {
      background: rgba(255, 255, 255, 0.95);
      margin: 30px auto;
      padding: 30px;
      max-width: 700px;
      border-radius: 20px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
      text-align: center;
    }
    h1 {
      font-size: 2.5em;
      color: #d6336c;
    }
    .game-section {
      text-align: center;
      margin: 30px;
    }
    .memory-controls {
      margin-bottom: 10px;
    }
    .memory-game {
      position: relative;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(60px, 1fr));
      gap: 10px;
      justify-content: center;
      margin-top: 20px;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }
    .card {
      width: 60px;
      height: 60px;
      background: linear-gradient(to right, #6a11cb, #2575fc);
      color: white;
      font-size: 1.5em;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 10px;
      cursor: pointer;
      transition: transform 0.3s ease;
    }
    .card:hover {
      transform: scale(1.1);
    }
    .card.flipped {
      background: white;
      color: #2575fc;
    }
    canvas#line-canvas {
      position: absolute;
      top: 0;
      left: 0;
      z-index: 0;
      pointer-events: none;
    }
    footer {
      text-align: center;
      font-size: 0.9em;
      color: #666;
      margin-top: 40px;
    }
  </style>
</head>
<body>
  <div class="invitation">
    <h1>Zaproszenie!</h1>
    <p>Mamy przyjemno≈õƒá zaprosiƒá Was na 3 urodziny Hani!</strong>!</p>
    <p><strong>dnia 08 czerwca 2025</strong>, godz. 11:00</p>
    <p><strong>Zapraszamy do wsp√≥lnej zabawy w Sala Zabaw KIDSY</strong><br />Mƒôt√≥w 199D, 20-388 Lublin</p>
    <a href="https://www.google.com/maps?q=Mƒôt√≥w+199D,+20-388+Lublin">Znajd≈∫ na mapie</a>
    <p>W przypadku pyta≈Ñ prosimy o kontakt: Kasia <a href="tel:511140236">511 140 236</a> | Maciej <a href="tel:531765279">531 765 279</a></p>
  </div>

  <div class="game-section">
    <h2>üéØ Zagraj w grƒô pamiƒôƒá </h2>
    <div class="memory-controls">
      <label for="difficulty">Wybierz poziom:</label>
      <select id="difficulty">
        <option value="easy">≈Åatwy (8 kart)</option>
        <option value="hard">Trudny (18 kart)</option>
      </select>
      <button onclick="startGame()">Start</button>
    </div>
    <div style="position: relative;">
      <canvas id="line-canvas" width="800" height="600"></canvas>
      <div class="memory-game" id="memory-game"></div>
    </div>
    <p>Ruchy: <span id="memory-moves">0</span> | Czas: <span id="memory-time">0</span>s</p>
  </div>

  <footer>
    <p>¬© 2025 SVT Studio Tokarsky</p>
    <img src="logo.png" alt="Logo" width="120" />
  </footer>

  <script>
    const easyEmojis = ['üç∞','üéà','üéâ','üéÅ','üéÇ','üß∏','üç¨','üç≠'];
    const hardEmojis = ['üç∞','üéà','üéâ','üéÅ','üéÇ','üß∏','üç¨','üç≠','üê∂','üê±','üê≠','üêπ','üê∞','ü¶ä','üêª'];
    let cards = [], flipped = [], matched = [], moves = 0, timer = 0, interval;
    const game = document.getElementById('memory-game');
    const canvas = document.getElementById('line-canvas');
    const ctx = canvas.getContext('2d');

    function shuffle(array) {
      return array.sort(() => Math.random() - 0.5);
    }

    function startGame() {
      clearInterval(interval);
      timer = 0;
      moves = 0;
      flipped = [];
      matched = [];
      document.getElementById('memory-time').textContent = timer;
      document.getElementById('memory-moves').textContent = moves;
      const level = document.getElementById('difficulty').value;
      let emojis = level === 'easy' ? easyEmojis : hardEmojis;
      cards = shuffle([...emojis, ...emojis]);
      game.innerHTML = '';
      setTimeout(drawLines, 200);

      cards.forEach((emoji, index) => {
        const card = document.createElement('div');
        card.classList.add('card');
        card.dataset.index = index;
        card.dataset.emoji = emoji;
        card.addEventListener('click', flipCard);
        game.appendChild(card);
      });

      interval = setInterval(() => {
        timer++;
        document.getElementById('memory-time').textContent = timer;
      }, 1000);
    }

    function flipCard() {
      const card = this;
      if (card.classList.contains('flipped') || flipped.length === 2) return;

      card.classList.add('flipped');
      card.textContent = card.dataset.emoji;
      flipped.push(card);
      moves++;
      document.getElementById('memory-moves').textContent = moves;

      if (flipped.length === 2) {
        if (flipped[0].dataset.emoji === flipped[1].dataset.emoji) {
          matched.push(flipped[0], flipped[1]);
          setTimeout(() => drawLineBetween(flipped[0], flipped[1]), 500);
          flipped = [];
        } else {
          setTimeout(() => {
            flipped.forEach(c => {
              c.classList.remove('flipped');
              c.textContent = '';
            });
            flipped = [];
          }, 1000);
        }
      }
    }

    function drawLineBetween(card1, card2) {
      const rect1 = card1.getBoundingClientRect();
      const rect2 = card2.getBoundingClientRect();
      const x1 = rect1.left + rect1.width / 2 - canvas.offsetLeft;
      const y1 = rect1.top + rect1.height / 2 - canvas.offsetTop;
      const x2 = rect2.left + rect2.width / 2 - canvas.offsetLeft;
      const y2 = rect2.top + rect2.height / 2 - canvas.offsetTop;
      ctx.beginPath();
      ctx.moveTo(x1, y1);
      ctx.lineTo(x2, y2);
      ctx.strokeStyle = "#ff66cc";
      ctx.lineWidth = 4;
      ctx.stroke();
    }

    function drawLines() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
    }

    window.onload = startGame;
  </script>
</body>
</html>
